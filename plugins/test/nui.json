{"$schema":"https://json-schema.org","$id":"urn:nwn:nui_master_schema:v1.0","title":"NUI Unified Master Schema","type":"object","required":["version","root"],"additionalProperties":true,"properties":{"version":{"const":1},"root":{"allOf":[{"$ref":"#/$defs/nui_element"},{"type":"object","properties":{"type":{"enum":["col","row","group"]}}}]},"title":{"$ref":"#/$defs/bindable_string"},"font":{"$ref":"#/$defs/bindable_string"},"accepts_input":{"$ref":"#/$defs/bindable_bool"},"border":{"$ref":"#/$defs/bindable_bool"},"closable":{"$ref":"#/$defs/bindable_bool"},"transparent":{"$ref":"#/$defs/bindable_bool"},"resizable":{"$ref":"#/$defs/bindable_bool"},"collapsed":{"$ref":"#/$defs/bindable_bool_or_null"},"foreground_color":{"$ref":"#/$defs/bindable_color"},"geometry":{"$ref":"#/$defs/bindable_rect"},"size_constraint":{"$ref":"#/$defs/bindable_rect"},"edge_constraint":{"$ref":"#/$defs/bindable_rect"}},"$defs":{"nui_element":{"type":"object","required":["type"],"dependentRequired":{"draw_list":["draw_list_scissor"]},"properties":{"type":{"enum":["col","row","group","label","text","button","button_image","button_select","check","image","combo","slider","sliderf","textedit","progress","list","color_picker","options","tabbar","chart","spacer","movieplayer"]},"id":{"type":"string"},"width":{"type":"number","minimum":0},"height":{"type":"number","minimum":0},"aspect":{"type":"number","minimum":0},"margin":{"type":"number","minimum":0},"padding":{"type":"number","minimum":0},"border":{"type":"boolean"},"scrollbars":{"$ref":"#/$defs/scrollbar_base"},"tooltip":{"$ref":"#/$defs/bindable_string"},"disabled_tooltip":{"$ref":"#/$defs/bindable_string"},"encouraged":{"$ref":"#/$defs/bindable_bool"},"draw_list":{"type":"array","items":{"$ref":"#/$defs/draw_list_item"}},"draw_list_scissor":{"$ref":"#/$defs/bindable_bool"},"enabled":{"$ref":"#/$defs/bindable_bool"},"visible":{"$ref":"#/$defs/bindable_bool"},"value":{"$ref":"#/$defs/bindable_any"},"label":{"$ref":"#/$defs/bindable_string"},"children":{"type":"array","items":{"$ref":"#/$defs/nui_element"}}},"allOf":[{"if":{"properties":{"type":{"const":"image"}}},"then":{"required":["value","image_aspect","image_halign","image_valign"],"properties":{"image_aspect":{"$ref":"#/$defs/bindable_aspect"}}}},{"if":{"properties":{"type":{"const":"movieplayer"}}},"then":{"required":["value"]}},{"if":{"properties":{"type":{"const":"text"}}},"then":{"required":["value","border","scrollbars"],"properties":{"scrollbars":{"maximum":4}}}},{"if":{"properties":{"type":{"enum":["button","button_image","button_select","check"]}}},"then":{"required":["label"]}},{"if":{"properties":{"type":{"enum":["button_select","check","combo","progress","color_picker","options","tabbar","chart"]}}},"then":{"required":["value"]}},{"if":{"properties":{"type":{"const":"combo"}}},"then":{"required":["value","elements"],"properties":{"elements":{"anyOf":[{"type":"array","items":{"type":"array","prefixItems":[{"type":"string"},{"type":"integer","minimum":0}],"minItems":2,"maxItems":2}},{"$ref":"#/$defs/bind_object"}]}}}},{"if":{"properties":{"type":{"const":"textedit"}}},"then":{"required":["label","value","max","multiline","wordwrap"],"properties":{"max":{"type":"integer","minimum":1,"maximum":65535}}}},{"if":{"properties":{"type":{"enum":["slider","sliderf"]}}},"then":{"required":["value","min","max","step"]}},{"if":{"properties":{"type":{"const":"list"}}},"then":{"required":["row_count","border","scrollbars","row_height","row_template"],"properties":{"scrollbars":{"maximum":3},"row_template":{"type":"array","maxItems":16,"items":{"type":"array","prefixItems":[{"$ref":"#/$defs/nui_element"},{"type":"number"},{"type":"boolean"}],"minItems":3,"maxItems":3}}}}},{"if":{"properties":{"type":{"enum":["options","tabbar"]}}},"then":{"required":["value","direction","elements"],"properties":{"direction":{"type":"integer","minimum":0,"maximum":1},"elements":{"type":"array","items":{"type":"string"},"minItems":1}}}},{"if":{"properties":{"type":{"enum":["col","row","group"]}}},"then":{"required":["children"]}},{"if":{"properties":{"type":{"const":"group"}}},"then":{"required":["border","scrollbars"],"properties":{"scrollbars":{"maximum":5}}}},{"if":{"properties":{"type":{"const":"chart"}}},"then":{"properties":{"value":{"items":{"required":["type","legend","color","data"]}}}}}],"additionalProperties":true},"draw_list_item":{"type":"object","required":["type","enabled","color","fill","line_thickness"],"properties":{"type":{"type":"integer","minimum":0,"maximum":7},"enabled":{"$ref":"#/$defs/bindable_bool"},"color":{"$ref":"#/$defs/bindable_color"},"fill":{"$ref":"#/$defs/bindable_bool"},"line_thickness":{"type":"number"},"order":{"enum":[-1,1]},"render":{"type":"integer","minimum":0,"maximum":5},"arrayBinds":{"type":"boolean"}}},"bind_object":{"type":"object","required":["bind"],"properties":{"bind":{"type":"string"},"number_flags":{"type":"integer","minimum":0,"maximum":1},"number_precision":{"type":"integer","minimum":0},"text_flags":{"type":"integer","minimum":0,"maximum":2}},"additionalProperties":true},"strref_object":{"type":"object","required":["strref"],"properties":{"strref":{"type":"integer","minimum":0}},"additionalProperties":true},"bindable_bool":{"anyOf":[{"type":"boolean"},{"$ref":"#/$defs/bind_object"}]},"bindable_bool_or_null":{"anyOf":[{"type":["boolean","null"]},{"$ref":"#/$defs/bind_object"}]},"bindable_float":{"anyOf":[{"type":"number"},{"$ref":"#/$defs/bind_object"}]},"bindable_string":{"anyOf":[{"type":["string","null"]},{"$ref":"#/$defs/bind_object"},{"$ref":"#/$defs/strref_object"}]},"bindable_any":{"anyOf":[{"type":["string","integer","number","boolean","null"]},{"$ref":"#/$defs/bind_object"},{"$ref":"#/$defs/strref_object"}]},"scrollbar_base":{"type":"integer","minimum":0,"maximum":5},"vector":{"type":"object","required":["x","y"],"properties":{"x":{"type":"number"},"y":{"type":"number"}},"additionalProperties":false},"bindable_vector":{"anyOf":[{"$ref":"#/$defs/vector"},{"$ref":"#/$defs/bind_object"}]},"rectangle":{"type":"object","required":["h","w","x","y"],"properties":{"h":{"type":"number","minimum":0},"w":{"type":"number","minimum":0},"x":{"type":"number","minimum":0},"y":{"type":"number","minimum":0}},"additionalProperties":false},"bindable_rect":{"anyOf":[{"$ref":"#/$defs/rectangle"},{"$ref":"#/$defs/bind_object"}]},"color":{"type":"object","required":["r","g","b","a"],"properties":{"r":{"type":"integer","minimum":0,"maximum":255},"g":{"type":"integer","minimum":0,"maximum":255},"b":{"type":"integer","minimum":0,"maximum":255},"a":{"type":"integer","minimum":0,"maximum":255}},"additionalProperties":false},"bindable_color":{"anyOf":[{"$ref":"#/$defs/color"},{"$ref":"#/$defs/bind_object"}]},"bindable_align":{"anyOf":[{"type":"integer","minimum":0,"maximum":2},{"$ref":"#/$defs/bind_object"}]},"bindable_aspect":{"anyOf":[{"type":"integer","minimum":0,"maximum":5,"errorMessage":"Invalid NUI_ASPECT_* value"},{"$ref":"#/$defs/bind_object"}]}}}